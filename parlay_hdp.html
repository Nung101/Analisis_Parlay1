<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator H2H Diff</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 30px auto; padding: 25px; background: #f9f9f9; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h2 { color: #333; text-align: center; margin-bottom: 25px; }
        p { text-align: center; color: #666; margin-bottom: 20px; }
        .input-section { background: #fff; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e0e0e0; }
        .input-section h3 { color: #007bff; margin-top: 0; margin-bottom: 15px; border-bottom: 1px solid #e0e0e0; padding-bottom: 10px; }
        .input-group { margin-bottom: 15px; display: flex; align-items: center; }
        .input-group label { flex: 2; font-weight: bold; margin-right: 10px; color: #555; }
        .input-group input[type="number"] { flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; min-width: 80px;}
        input[type="number"]:focus { border-color: #007bff; outline: none; }
        button { width: 100%; padding: 12px; background: linear-gradient(45deg, #28a745, #218838); color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; transition: background-color 0.3s ease; margin-top: 15px; }
        button:hover { background: linear-gradient(45deg, #218838, #28a745); }
        .result { margin-top: 25px; padding: 20px; border: 1px solid #d4edda; border-radius: 8px; background: #e0f2f7; display: none; }
        .result p { margin: 8px 0; font-size: 1.1em; color: #333; text-align: left; }
        .result strong { color: #28a745; }
        .error { color: red; font-weight: bold; text-align: center; }
        .warning { color: orange; text-align: center; margin-top: 10px; font-size: 0.9em;}
    </style>
</head>
<body>
    <h2>âš½ Kalkulator H2H Diff (Head-to-Head Difference)</h2>
    <p>Hitung rata-rata selisih gol antara dua tim dari 5 pertemuan terakhir mereka.</p>

    <div class="input-section">
        <h3>Skor Head-to-Head (Tim A vs Tim B)</h3>
        <p class="warning">Masukkan gol Tim A dan Tim B untuk setiap pertemuan. Kosongkan jika kurang dari 5 pertemuan.</p>
        <div class="input-group">
            <label for="h2hMatch1A">Match 1: Skor Tim A:</label>
            <input type="number" id="h2hMatch1A" value="2">
            <label for="h2hMatch1B">Skor Tim B:</label>
            <input type="number" id="h2hMatch1B" value="1">
        </div>
        <div class="input-group">
            <label for="h2hMatch2A">Match 2: Skor Tim A:</label>
            <input type="number" id="h2hMatch2A" value="0">
            <label for="h2hMatch2B">Skor Tim B:</label>
            <input type="number" id="h2hMatch2B" value="3">
        </div>
        <div class="input-group">
            <label for="h2hMatch3A">Match 3: Skor Tim A:</label>
            <input type="number" id="h2hMatch3A" value="1">
            <label for="h2hMatch3B">Skor Tim B:</label>
            <input type="number" id="h2hMatch3B" value="1">
        </div>
        <div class="input-group">
            <label for="h2hMatch4A">Match 4: Skor Tim A:</label>
            <input type="number" id="h2hMatch4A" value="2">
            <label for="h2hMatch4B">Skor Tim B:</label>
            <input type="number" id="h2hMatch4B" value="0">
        </div>
        <div class="input-group">
            <label for="h2hMatch5A">Match 5: Skor Tim A:</label>
            <input type="number" id="h2hMatch5A" value="1">
            <label for="h2hMatch5B">Skor Tim B:</label>
            <input type="number" id="h2hMatch5B" value="2">
        </div>
    </div>

    <button onclick="calculateH2HDiff()">Hitung H2H Diff</button>

    <div id="results" class="result"></div>

    <script>
        function calculateH2HDiff() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = ''; // Clear previous results

            let h2hTotalDiff = 0;
            let h2hMatchesCount = 0;
            let allScoresValid = true;

            for (let i = 1; i <= 5; i++) {
                const scoreAInput = document.getElementById(`h2hMatch${i}A`).value;
                const scoreBInput = document.getElementById(`h2hMatch${i}B`).value;

                // Only process if both scores for a match are provided (not empty)
                if (scoreAInput !== "" && scoreBInput !== "") {
                    const scoreA = parseFloat(scoreAInput);
                    const scoreB = parseFloat(scoreBInput);

                    if (!isNaN(scoreA) && !isNaN(scoreB) && scoreA >= 0 && scoreB >= 0) {
                        h2hTotalDiff += (scoreA - scoreB);
                        h2hMatchesCount++;
                    } else {
                        allScoresValid = false;
                        break; // Stop processing if any invalid score found
                    }
                }
            }

            if (!allScoresValid) {
                resultsDiv.innerHTML = '<p class="error">Mohon masukkan skor angka yang valid dan non-negatif.</p>';
                return;
            }

            if (h2hMatchesCount === 0) {
                resultsDiv.innerHTML = '<p class="error">Tidak ada pertemuan H2H yang valid untuk dihitung. Masukkan minimal satu skor pertandingan.</p>';
                return;
            }

            const h2hDiff = h2hTotalDiff / h2hMatchesCount;

            resultsDiv.innerHTML = `
                <h3>Hasil Kalkulasi H2H Diff</h3>
                <p>Jumlah Pertemuan H2H Ditemukan: <strong>${h2hMatchesCount}</strong></p>
                <p>Total Selisih Gol (Tim A - Tim B): <strong>${h2hTotalDiff}</strong></p>
                <p><strong>H2H Diff (Tim A - Tim B):</strong> <strong>${h2hDiff.toFixed(2)}</strong></p>
                <p style="font-size: 0.9em; color: #666; margin-top: 20px;">
                    <em>Gunakan nilai ini untuk mengisi input 'h2hDiff' di kalkulator prediksi utama Anda.</em><br>
                    <em>Nilai positif: Tim A memiliki keunggulan historis.</em><br>
                    <em>Nilai negatif: Tim B memiliki keunggulan historis.</em>
                </p>
            `;
        }
    </script>
</body>
</html>